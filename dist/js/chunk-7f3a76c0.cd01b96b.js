(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f3a76c0"],{"419c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticStyle:{height:"100%"}},[i("v-col",{attrs:{cols:"8"}},[i("p",{staticClass:"class-info text-h4"},[t._v(" 질의응답 ")])]),i("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"4"}},[i("v-btn",{attrs:{color:"accent"},on:{click:function(e){return t.$router.go(-1)}}},[i("v-icon",[t._v("mdi-arrow-left")])],1)],1),i("v-responsive",{staticClass:"overflow-y-auto px-6",attrs:{height:"85%",width:"100%"}},[i("v-row",[i("v-card",{staticClass:"mx-auto",attrs:{width:"100%",outlined:""}},[i("v-card-title",[i("span",[t._v(" "+t._s(t.questionDetail.postName)+" ")]),i("v-spacer"),t.userData.email==t.questionDetail.postAuthorEmail?i("div",[i("v-dialog",{attrs:{"max-width":"700",transition:"slide-x-reverse-transition",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),a),[i("v-icon",{attrs:{size:"20"}},[t._v(" mdi-pencil ")])],1)]}}],null,!1,1900157939),model:{value:t.postEditDialog,callback:function(e){t.postEditDialog=e},expression:"postEditDialog"}},[i("edit-form",{attrs:{content:{name:t.questionDetail.postName,detail:t.questionDetail.postDetail}},on:{closeDialog:function(e){t.postEditDialog=!1}}})],1),i("v-btn",{attrs:{icon:""}},[i("v-icon",{attrs:{size:"20"},on:{click:function(e){return t.confirmDelete(t.questionDetail,!1)}}},[t._v(" mdi-delete ")])],1)],1):t._e()],1),i("v-card-subtitle",[i("span",{staticClass:"post-detail"},[i("strong",[t._v("작성자 : ")]),t._v(t._s(t.questionDetail.postAuthor)+" ")]),i("span",{staticClass:"post-detail"},[i("strong",[t._v("작성일 : ")]),t._v(t._s(t.questionDetail.postUpdateDate)+" ")])]),i("v-divider"),i("v-card-text",[i("pre",{staticClass:"primary--text"},[t._v(t._s(t.questionDetail.postDetail))])]),i("v-card-text",[i("v-row",{attrs:{align:"end"}},[i("v-col",{staticClass:"flex-grow-1"},[i("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-textarea",{attrs:{label:"댓글",placeholder:"댓글을 남길 수 있습니다.","hide-details":"",outlined:"","no-resize":"",rows:"3","row-height":"15",rules:[t.required("댓글 내용"),t.isLongEnough("댓글 내용",10)]},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1),i("v-col",{staticClass:"flex-grow-0"},[i("v-btn",{attrs:{small:"",outlined:"",disabled:!t.valid},on:{click:t.createComment}},[t._v(" "+t._s(t.responsiveButtonText))])],1)],1)],1),i("v-divider"),i("v-slide-y-transition",[t.commentList.length>0?i("v-card",{attrs:{flat:""}},t._l(t.commentList,(function(e,a){return i("v-list",{key:a,attrs:{"two-line":"",subheader:""}},[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" "+t._s(e.commentDetail)+" ")]),i("v-list-item-subtitle",[i("span",{staticClass:"comment-detail"},[i("strong",[t._v("작성자 : ")]),t._v(" "+t._s(e.commentUserId.name)+" ")]),i("span",{staticClass:"comment-detail"},[i("strong",[t._v("작성일 : ")]),t._v(" "+t._s(e.commentUpdateDate.substring(0,10))+" ")])])],1),i("v-list-item-action",[t.userData.email==e.commentUserId.email?i("div",[i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.editComment(e)}}},[i("v-icon",{attrs:{size:"20"}},[t._v(" mdi-pencil ")])],1),i("v-btn",{attrs:{icon:""},on:{click:function(i){return t.confirmDelete(e,!0)}}},[i("v-icon",{attrs:{size:"20"}},[t._v(" mdi-delete ")])],1)],1):t._e()])],1)],1)})),1):t._e()],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"450px",transition:"slide-x-reverse-transition","retain-focus":!1,"hide-overlay":""},model:{value:t.commentEditDialog,callback:function(e){t.commentEditDialog=e},expression:"commentEditDialog"}},[i("modify-form",{attrs:{targetComment:t.targetComment},on:{closeDialog:function(e){t.commentEditDialog=!1}}})],1),i("v-dialog",{attrs:{"max-width":"450px"},model:{value:t.deleteConfirmDialog,callback:function(e){t.deleteConfirmDialog=e},expression:"deleteConfirmDialog"}},[i("v-card",[i("v-card-title",[t._v(" 정말 삭제하시겠습니까? ")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.deleteConfirmDialog=!1}}},[t._v(" 돌아가기 ")]),i("v-btn",{attrs:{color:"error",text:""},on:{click:t.execueteDeletion}},[t._v(" 확인 ")])],1)],1)],1)],1)},o=[],n=(i("99af"),i("b0c0"),i("e0b5")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"mx-auto rounded-lg"},[i("v-card-title",[i("span",{staticClass:"text-h6 font-weight-bold"},[t._v("질문 수정")]),i("v-spacer")],1),i("v-progress-linear",{attrs:{indeterminate:t.isLoading,active:t.isLoading,color:"accent darken-2"}}),i("v-divider"),i("v-card-text",{staticClass:"px-sm-12 py-2"},[i("v-form",{on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{label:"제목",rules:[t.required("제목"),t.isLongEnough("제목",5)]},model:{value:t.questionName,callback:function(e){t.questionName=e},expression:"questionName"}}),i("v-textarea",{attrs:{label:"공지사항 내용을 입력해주세요.",rows:"10","no-resize":"",rules:[t.required("내용"),t.isLongEnough("내용",15)],counter:""},model:{value:t.questionDetail,callback:function(e){t.questionDetail=e},expression:"questionDetail"}})],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"error",text:""},on:{click:t.closeDialog}},[t._v(" 취소 ")]),i("v-btn",{attrs:{color:"blue lighten-2",text:"",disabled:!t.valid||t.isLoading},on:{click:t.editQuestion}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-pencil ")]),t._v(" 수정하기 ")],1)],1)],1)},r=[],l={props:{content:Object},data:function(){return{isLoading:!1,valid:!1,questionName:this.content.name,questionDetail:this.content.detail,required:function(t){return function(e){return!!e||"".concat(t,"를 입력해주세요.")}},isLongEnough:function(t,e){return function(i){return i.length>=e||"".concat(t,"은 최소 ").concat(e,"글자 이상이어야 합니다.")}}}},methods:{closeDialog:function(){this.$emit("closeDialog")},editQuestion:function(){var t=this;this.isLoading=!0;var e=new FormData;e.append("classId",this.$route.params.classId),e.append("postName",this.questionName),e.append("postDetail",this.questionDetail),this.$store.dispatch("post/updateQuestion",{postId:this.$route.params.postId,formData:e}),setTimeout((function(){t.isLoading=!1,t.closeDialog()}),1e3)}}},c=l,d=i("2877"),u=i("6544"),m=i.n(u),v=i("8336"),p=i("b0af"),f=i("99d9"),g=i("ce7e"),h=i("4bd4"),D=i("132d"),b=i("8e36"),x=i("2fa4"),C=i("8654"),_=i("a844"),V=Object(d["a"])(c,s,r,!1,null,null,null),w=V.exports;m()(V,{VBtn:v["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["c"],VCardTitle:f["d"],VDivider:g["a"],VForm:h["a"],VIcon:D["a"],VProgressLinear:b["a"],VSpacer:x["a"],VTextField:C["a"],VTextarea:_["a"]});var q={beforeCreate:function(){this.$store.dispatch("post/retrieveQuestionDetail",this.$route.params.postId)},data:function(){return{postEditDialog:!1,commentEditDialog:!1,deleteConfirmDialog:!1,valid:!1,isWriting:!1,comment:"",targetComment:"",deleteTarget:null,targetType:"",required:function(t){return function(e){return!!e||"".concat(t,"를 입력해주세요.")}},isLongEnough:function(t,e){return function(i){return i.length>=e||"".concat(t,"은 최소 ").concat(e,"글자 이상이어야 합니다.")}}}},components:{ModifyForm:n["a"],EditForm:w},computed:{responsiveButtonText:function(){switch(this.$vuetify.breakpoint.name){case"xs":return"등록";default:return"등록하기"}},userData:function(){return this.$store.getters["user/userData"]},questionDetail:function(){return this.$store.getters["post/questionDetail"]},commentList:function(){return this.$store.getters["post/commentList"]}},methods:{confirmDelete:function(t,e){this.deleteConfirmDialog=!0,console.log(t),this.deleteTarget=t,this.targetType=e?"Comment":"Post"},execueteDeletion:function(){"Post"==this.targetType?this.$store.dispatch("post/deleteQuestion",this.deleteTarget.postId):"Comment"==this.targetType&&this.$store.dispatch("post/deleteComment",this.deleteTarget),this.deleteConfirmDialog=!1},createComment:function(){if(this.comment.length<5)alert("댓글 내용이 너무 짧습니다.");else{var t=new FormData;t.append("postId",this.$route.params.postId),t.append("commentDetail",this.comment),this.$store.dispatch("post/createComment",t),this.comment=""}},editComment:function(t){this.commentEditDialog=!0,this.targetComment=t}}},k=q,L=(i("f9bb"),i("62ad")),E=i("169a"),T=i("8860"),y=i("da13"),I=i("1800"),$=i("5d23"),N=i("6b53"),F=i("0fd9"),S=i("0789"),z=Object(d["a"])(k,a,o,!1,null,"4d22c22c",null);e["default"]=z.exports;m()(z,{VBtn:v["a"],VCard:p["a"],VCardActions:f["a"],VCardSubtitle:f["b"],VCardText:f["c"],VCardTitle:f["d"],VCol:L["a"],VDialog:E["a"],VDivider:g["a"],VForm:h["a"],VIcon:D["a"],VList:T["a"],VListItem:y["a"],VListItemAction:I["a"],VListItemContent:$["a"],VListItemSubtitle:$["b"],VListItemTitle:$["c"],VResponsive:N["a"],VRow:F["a"],VSlideYTransition:S["f"],VSpacer:x["a"],VTextarea:_["a"]})},ba0f:function(t,e,i){},f9bb:function(t,e,i){"use strict";i("ba0f")}}]);
//# sourceMappingURL=chunk-7f3a76c0.cd01b96b.js.map